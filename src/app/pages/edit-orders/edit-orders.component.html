<nb-card>
    <div class="container">
        <h2 class="mt-3">Chỉnh sửa đơn hàng</h2>
        <form (ngSubmit)="editOrder(orderForm)" #orderForm="ngForm">
            <div class="form-group">
                <label for="tourId">Tour:</label>
                <select class="form-control mt-2" id="tourId" name="tourId" [(ngModel)]="orderData.tour_id" required #tourId="ngModel">
                    <option *ngFor="let tour of tours" [value]="tour.tour_id">{{ tour.tour_name }}</option>
                </select>
                <div *ngIf="tourId.invalid && (tourId.dirty || tourId.touched)" class="text-danger mt-2">
                    <div *ngIf="tourId.errors?.required">Vui lòng chọn một tour.</div>
                </div>
            </div>
            <div class="form-group mt-3">
                <label for="customerName">Tên khách hàng:</label>
                <input type="text" class="form-control mt-2" id="customerName" name="customerName"
                    [(ngModel)]="orderData.customer_name" required #customerName="ngModel">
                <div *ngIf="customerName.invalid && (customerName.dirty || customerName.touched)" class="text-danger mt-2">
                    <div *ngIf="customerName.errors?.required">Tên khách hàng không được để trống.</div>
                </div>
            </div>
            <div class="form-group mt-3">
                <label for="customerEmail">Email khách hàng:</label>
                <input type="email" class="form-control mt-2" id="customerEmail" name="customerEmail"
                    [(ngModel)]="orderData.customer_email" required #customerEmail="ngModel">
                <div *ngIf="customerEmail.invalid && (customerEmail.dirty || customerEmail.touched)" class="text-danger mt-2">
                    <div *ngIf="customerEmail.errors?.required">Email không được để trống.</div>
                    <div *ngIf="customerEmail.errors?.email">Email không hợp lệ.</div>
                </div>
            </div>
            <div class="form-group mt-3">
                <label for="bookingDate">Ngày đặt:</label>
                <input type="date" class="form-control mt-2" id="bookingDate" name="bookingDate"
                [(ngModel)]="orderData.booking_date" required pattern="\d{4}-\d{2}-\d{2}" #bookingDate="ngModel">
                <div *ngIf="bookingDate.invalid && (bookingDate.dirty || bookingDate.touched)" class="text-danger mt-2">
                    <div *ngIf="bookingDate.errors?.pattern">Ngày đặt không được trống</div>
                </div>
            </div>
            <div class="form-group mt-3">
                <label for="totalPrice">Tổng giá:</label>
                <div class="input-group mt-2">
                    <div class="input-group-prepend">
                        <span class="input-group-text">₫</span>
                    </div>
                    <input type="text" class="form-control" [value]="orderData.total_price" readonly>
</div>
            </div>
            <button type="submit" class="btn btn-primary mt-3 mb-3" [disabled]="orderForm.invalid">Lưu thay đổi</button>
        </form>
    </div>
</nb-card>